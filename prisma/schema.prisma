// prisma/schema.prisma
// Provider: PostgreSQL (Neon) / Prisma Client JS

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Draft {
  id        String   @id @default(cuid())
  userId    String
  title     String
  content   String
  createdAt DateTime @default(now())

  @@index([userId, createdAt])
}

/// 共有リンクのメタデータを保持
model Share {
  /// 共有ID（URLの [id] に使う想定）
  id        String    @id @default(cuid())
  /// 所有ユーザー
  userId    String
  /// 表示タイトル
  title     String
  /// 作成日時
  createdAt DateTime  @default(now())
  /// 期限（省略可）
  expiresAt DateTime?

  @@index([userId, createdAt])
  @@index([expiresAt])
  @@map("shares") // 物理テーブル名を明示（任意）
}
